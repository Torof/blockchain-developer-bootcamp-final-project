{"ast":null,"code":"import _regeneratorRuntime from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/torof/blockchain-developer-bootcamp-final-project/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport DiamondContract from \"./contracts/Diamond.json\";\nimport DixelFacet from \"./contracts/DixelFacet.json\";\nimport LotteryFacet from \"./contracts/LotteryFacet.json\";\nimport GetterFacet from \"./contracts/GetterFacet.json\";\nimport Home from \"./components/pages/Home\";\nimport MintPage from \"./components/pages/Mint\";\nimport StakingPage from \"./components/pages/Stake\";\nimport LotteryPage from \"./components/pages/Lottery\";\nimport InventoryAndLevel from \"./components/pages/Inventory\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      web3: null,\n      accounts: null,\n      contract: null\n    };\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var web3, accounts, networkId, deployedNetwork, dixelFacetInstance, lotteryFacetInstance, getterFacetInstance;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return getWeb3();\n\n            case 3:\n              web3 = _context2.sent;\n              _context2.next = 6;\n              return web3.eth.getAccounts();\n\n            case 6:\n              accounts = _context2.sent;\n              window.ethereum.on('accountsChanged',\n              /*#__PURE__*/\n              _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return web3.eth.getAccounts();\n\n                      case 2:\n                        accounts = _context.sent;\n                        window.location.reload();\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n              _context2.next = 10;\n              return window.ethereum.request({\n                method: 'wallet_switchEthereumChain',\n                params: [{\n                  chainId: '0x4'\n                }]\n              }).catch(function (error) {\n                console.log(error);\n                alert(\"You need to connect to Network Rinkeby\");\n              });\n\n            case 10:\n              _context2.next = 12;\n              return web3.eth.net.getId();\n\n            case 12:\n              networkId = _context2.sent;\n              console.log(\"network id: \");\n              console.log(networkId);\n              deployedNetwork = DiamondContract.networks[networkId]; //Dixel facet\n\n              dixelFacetInstance = new web3.eth.Contract(DixelFacet.abi, deployedNetwork && deployedNetwork.address); //Lottery facet\n\n              lotteryFacetInstance = new web3.eth.Contract(LotteryFacet.abi, deployedNetwork && deployedNetwork.address); //Lottery facet\n\n              getterFacetInstance = new web3.eth.Contract(GetterFacet.abi, deployedNetwork && deployedNetwork.address); // Set web3, accounts, and contract to the state\n\n              _this.setState({\n                web3: web3,\n                accounts: accounts,\n                dixelFacet: dixelFacetInstance,\n                lotteryFacet: lotteryFacetInstance,\n                getterFacet: getterFacetInstance\n              });\n\n              _context2.next = 26;\n              break;\n\n            case 22:\n              _context2.prev = 22;\n              _context2.t0 = _context2[\"catch\"](0);\n              // Catch any errors for any of the above operations.\n              alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n              console.error(_context2.t0);\n\n            case 26:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 22]]);\n    }));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.state.web3) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Loading Web3, accounts, and contract...\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"Navig\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/stake\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Stake\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/lottery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Lottery\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/mint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Mint\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/inventory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Inventory\")))), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: function component() {\n          return React.createElement(Home, {\n            accounts: _this2.state.accounts,\n            dixelFacet: _this2.state.dixelFacet,\n            getterFacet: _this2.state.getterFacet,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/mint\",\n        component: function component() {\n          return React.createElement(MintPage, {\n            accounts: _this2.state.accounts,\n            dixelFacet: _this2.state.dixelFacet,\n            lotteryFacet: _this2.state.lotteryFacet,\n            getterFacet: _this2.state.getterFacet,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/stake\",\n        component: function component() {\n          return React.createElement(StakingPage, {\n            accounts: _this2.state.accounts,\n            dixelFacet: _this2.state.dixelFacet,\n            lotteryFacet: _this2.state.lotteryFacet,\n            getterFacet: _this2.state.getterFacet,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/lottery\",\n        component: function component() {\n          return React.createElement(LotteryPage, {\n            accounts: _this2.state.accounts,\n            dixelFacet: _this2.state.dixelFacet,\n            lotteryFacet: _this2.state.lotteryFacet,\n            getterFacet: _this2.state.getterFacet,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/inventory\",\n        component: function component() {\n          return React.createElement(InventoryAndLevel, {\n            accounts: _this2.state.accounts,\n            dixelFacet: _this2.state.dixelFacet,\n            lotteryFacet: _this2.state.lotteryFacet,\n            getterFacet: _this2.state.getterFacet,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/torof/blockchain-developer-bootcamp-final-project/client/src/App.js"],"names":["React","Component","getWeb3","DiamondContract","DixelFacet","LotteryFacet","GetterFacet","Home","MintPage","StakingPage","LotteryPage","InventoryAndLevel","Switch","Route","Link","App","state","web3","accounts","contract","componentDidMount","eth","getAccounts","window","ethereum","on","location","reload","request","method","params","chainId","catch","error","console","log","alert","net","getId","networkId","deployedNetwork","networks","dixelFacetInstance","Contract","abi","address","lotteryFacetInstance","getterFacetInstance","setState","dixelFacet","lotteryFacet","getterFacet"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,iBAAP,MAA8B,8BAA9B;AAEA,SACEC,MADF,EAEEC,KAFF,EAGEC,IAHF,QAIO,kBAJP;AAOA,OAAO,WAAP;;IAEMC,G;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,QAAQ,EAAE,IAAxB;AAA8BC,MAAAA,QAAQ,EAAE;AAAxC,K;UAERC,iB;;;;6BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGGlB,OAAO,EAHV;;AAAA;AAGVe,cAAAA,IAHU;AAAA;AAAA,qBAOKA,IAAI,CAACI,GAAL,CAASC,WAAT,EAPL;;AAAA;AAOZJ,cAAAA,QAPY;AAShBK,cAAAA,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmB,iBAAnB;AAAA;AAAA;AAAA;AAAA,uCAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAElBR,IAAI,CAACI,GAAL,CAASC,WAAT,EAFkB;;AAAA;AAEnCJ,wBAAAA,QAFmC;AAGnCK,wBAAAA,MAAM,CAACG,QAAP,CAAgBC,MAAhB;;AAHmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAArC;AATgB;AAAA,qBAeVJ,MAAM,CAACC,QAAP,CAAgBI,OAAhB,CAAwB;AAC5BC,gBAAAA,MAAM,EAAE,4BADoB;AAE5BC,gBAAAA,MAAM,EAAE,CAAC;AAAEC,kBAAAA,OAAO,EAAE;AAAX,iBAAD;AAFoB,eAAxB,EAGHC,KAHG,CAGG,UAACC,KAAD,EAAW;AAClBC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,gBAAAA,KAAK,CAAC,wCAAD,CAAL;AACD,eANK,CAfU;;AAAA;AAAA;AAAA,qBAwBQnB,IAAI,CAACI,GAAL,CAASgB,GAAT,CAAaC,KAAb,EAxBR;;AAAA;AAwBVC,cAAAA,SAxBU;AAyBhBL,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYI,SAAZ;AACMC,cAAAA,eA3BU,GA2BQrC,eAAe,CAACsC,QAAhB,CAAyBF,SAAzB,CA3BR,EA6BhB;;AACMG,cAAAA,kBA9BU,GA8BW,IAAIzB,IAAI,CAACI,GAAL,CAASsB,QAAb,CACzBvC,UAAU,CAACwC,GADc,EAEzBJ,eAAe,IAAIA,eAAe,CAACK,OAFV,CA9BX,EAoChB;;AACMC,cAAAA,oBArCU,GAqCa,IAAI7B,IAAI,CAACI,GAAL,CAASsB,QAAb,CAC3BtC,YAAY,CAACuC,GADc,EAE3BJ,eAAe,IAAIA,eAAe,CAACK,OAFR,CArCb,EA0ChB;;AACME,cAAAA,mBA3CU,GA2CY,IAAI9B,IAAI,CAACI,GAAL,CAASsB,QAAb,CAC1BrC,WAAW,CAACsC,GADc,EAE1BJ,eAAe,IAAIA,eAAe,CAACK,OAFT,CA3CZ,EAgDhB;;AACA,oBAAKG,QAAL,CAAc;AAAE/B,gBAAAA,IAAI,EAAJA,IAAF;AAAQC,gBAAAA,QAAQ,EAARA,QAAR;AAAkB+B,gBAAAA,UAAU,EAAEP,kBAA9B;AAAkDQ,gBAAAA,YAAY,EAAEJ,oBAAhE;AAAsFK,gBAAAA,WAAW,EAAEJ;AAAnG,eAAd;;AAjDgB;AAAA;;AAAA;AAAA;AAAA;AAmDhB;AACAX,cAAAA,KAAK,0EAAL;AAGAF,cAAAA,OAAO,CAACD,KAAR;;AAvDgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BA2DX;AAAA;;AACP,UAAI,CAAC,KAAKjB,KAAL,CAAWC,IAAhB,EAAsB;AACpB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAAP;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CAJF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,CAVF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,CAbF,CADF,CADF,EAoBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,QAAQ,EAAE,MAAI,CAACD,KAAL,CAAWE,QAA3B;AAAqC,YAAA,UAAU,EAAE,MAAI,CAACF,KAAL,CAAWiC,UAA5D;AAAwE,YAAA,WAAW,EAAE,MAAI,CAACjC,KAAL,CAAWmC,WAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,QAAQ,EAAE,MAAI,CAACnC,KAAL,CAAWE,QAA/B;AAAyC,YAAA,UAAU,EAAE,MAAI,CAACF,KAAL,CAAWiC,UAAhE;AAA4E,YAAA,YAAY,EAAE,MAAI,CAACjC,KAAL,CAAWkC,YAArG;AAAmH,YAAA,WAAW,EAAE,MAAI,CAAClC,KAAL,CAAWmC,WAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAG;AAAA,iBAAM,oBAAC,WAAD;AAAa,YAAA,QAAQ,EAAE,MAAI,CAACnC,KAAL,CAAWE,QAAlC;AAA4C,YAAA,UAAU,EAAE,MAAI,CAACF,KAAL,CAAWiC,UAAnE;AAA+E,YAAA,YAAY,EAAE,MAAI,CAACjC,KAAL,CAAWkC,YAAxG;AAAsH,YAAA,WAAW,EAAE,MAAI,CAAClC,KAAL,CAAWmC,WAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,WAAD;AAAa,YAAA,QAAQ,EAAE,MAAI,CAACnC,KAAL,CAAWE,QAAlC;AAA4C,YAAA,UAAU,EAAE,MAAI,CAACF,KAAL,CAAWiC,UAAnE;AAA+E,YAAA,YAAY,EAAE,MAAI,CAACjC,KAAL,CAAWkC,YAAxG;AAAsH,YAAA,WAAW,EAAE,MAAI,CAAClC,KAAL,CAAWmC,WAA9I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAKI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,YAAZ;AAAyB,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,iBAAD;AAAmB,YAAA,QAAQ,EAAE,MAAI,CAACnC,KAAL,CAAWE,QAAxC;AAAkD,YAAA,UAAU,EAAE,MAAI,CAACF,KAAL,CAAWiC,UAAzE;AAAqF,YAAA,YAAY,EAAE,MAAI,CAACjC,KAAL,CAAWkC,YAA9G;AAA4H,YAAA,WAAW,EAAE,MAAI,CAAClC,KAAL,CAAWmC,WAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CApBF,CADF,CADF;AAgCD;;;;EAlGelD,S;;AAqGlB,eAAec,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport DiamondContract from \"./contracts/Diamond.json\";\nimport DixelFacet from \"./contracts/DixelFacet.json\";\nimport LotteryFacet from \"./contracts/LotteryFacet.json\";\nimport GetterFacet from \"./contracts/GetterFacet.json\";\n\nimport Home from \"./components/pages/Home\";\nimport MintPage from \"./components/pages/Mint\";\nimport StakingPage from \"./components/pages/Stake\";\nimport LotteryPage from \"./components/pages/Lottery\";\nimport InventoryAndLevel from \"./components/pages/Inventory\";\n\nimport {\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = { web3: null, accounts: null, contract: null };\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n\n      // Use web3 to get the user's accounts.\n      let accounts = await web3.eth.getAccounts();\n\n      window.ethereum.on('accountsChanged',async function () {\n        //reloads interface with accounts[0]\n        accounts = await web3.eth.getAccounts();\n        window.location.reload();\n      })\n\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId: '0x4' }],\n      }).catch((error) => {\n        console.log(error)\n        alert(\"You need to connect to Network Rinkeby\")\n      })\n\n      // Get the diamond contract instance.\n      const networkId = await web3.eth.net.getId();\n      console.log(\"network id: \")\n      console.log(networkId)\n      const deployedNetwork = DiamondContract.networks[networkId];\n\n      //Dixel facet\n      const dixelFacetInstance = new web3.eth.Contract(\n        DixelFacet.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n\n      //Lottery facet\n      const lotteryFacetInstance = new web3.eth.Contract(\n        LotteryFacet.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      //Lottery facet\n      const getterFacetInstance = new web3.eth.Contract(\n        GetterFacet.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      // Set web3, accounts, and contract to the state\n      this.setState({ web3, accounts, dixelFacet: dixelFacetInstance, lotteryFacet: lotteryFacetInstance, getterFacet: getterFacetInstance });\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };\n\n  render() {\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n    return (\n      <div className=\"App\">\n        <div>\n          <nav className=\"Navig\">\n            <ul>\n              <li className=\"home\">\n              <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n              <Link to=\"/stake\">Stake</Link>\n              </li>\n              <li>\n              <Link to=\"/lottery\">Lottery</Link>\n              </li>\n              <li>\n              <Link to=\"/mint\">Mint</Link>\n              </li>\n              <li>\n              <Link to=\"/inventory\">Inventory</Link>\n              </li>\n            </ul>\n          </nav>\n          <Switch>\n              <Route exact path=\"/\" component={() => <Home accounts={this.state.accounts} dixelFacet={this.state.dixelFacet} getterFacet={this.state.getterFacet}/>}/>\n              <Route path=\"/mint\" component={() => <MintPage accounts={this.state.accounts} dixelFacet={this.state.dixelFacet} lotteryFacet={this.state.lotteryFacet} getterFacet={this.state.getterFacet}/>}/>\n              <Route path=\"/stake\" component ={() => <StakingPage accounts={this.state.accounts} dixelFacet={this.state.dixelFacet} lotteryFacet={this.state.lotteryFacet} getterFacet={this.state.getterFacet}/>}/>\n              <Route path=\"/lottery\" component={() => <LotteryPage accounts={this.state.accounts} dixelFacet={this.state.dixelFacet} lotteryFacet={this.state.lotteryFacet} getterFacet={this.state.getterFacet}/>}/>\n              <Route path=\"/inventory\" component={() => <InventoryAndLevel accounts={this.state.accounts} dixelFacet={this.state.dixelFacet} lotteryFacet={this.state.lotteryFacet} getterFacet={this.state.getterFacet}/>}/>\n            </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
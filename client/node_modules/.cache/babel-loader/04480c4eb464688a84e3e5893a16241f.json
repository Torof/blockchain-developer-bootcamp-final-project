{"ast":null,"code":"import _regeneratorRuntime from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/torof/blockchain-developer-bootcamp-final-project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/torof/blockchain-developer-bootcamp-final-project/client/src/components/pages/Inventory.jsx\";\nimport React from 'react';\nimport \"./styles/Pages.css\";\n\nvar InventoryAndLevel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InventoryAndLevel, _React$Component);\n\n  function InventoryAndLevel() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, InventoryAndLevel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(InventoryAndLevel)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userDixels: [],\n      starmBalance: 0,\n      value: 0,\n      show: false\n    };\n\n    _this.componentDidMount = function () {\n      _this.setState(_this.fetchUserDixels());\n    };\n\n    _this.fetchUserDixels =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$props, getterFacet, dixelFacet, lotteryFacet, accounts, dixels, length, starmBalance, userDixels, i, obj, jsonPage;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props = _this.props, getterFacet = _this$props.getterFacet, dixelFacet = _this$props.dixelFacet, lotteryFacet = _this$props.lotteryFacet, accounts = _this$props.accounts;\n              _context2.next = 3;\n              return getterFacet.methods.getDixels().call();\n\n            case 3:\n              dixels = _context2.sent;\n              length = dixels.length - 1;\n              _context2.next = 7;\n              return lotteryFacet.methods.balanceOfStarm(accounts[0]).call();\n\n            case 7:\n              starmBalance = _context2.sent;\n              userDixels = [];\n              i = 0;\n\n            case 10:\n              if (!(i <= length)) {\n                _context2.next = 28;\n                break;\n              }\n\n              _context2.next = 13;\n              return dixelFacet.methods.ownerOf(i).call();\n\n            case 13:\n              _context2.t0 = _context2.sent;\n              _context2.t1 = accounts[0];\n\n              if (!(_context2.t0 === _context2.t1)) {\n                _context2.next = 25;\n                break;\n              }\n\n              obj = {};\n              jsonPage = void 0;\n              obj.dixel = dixels[i];\n              obj.id = i;\n              _context2.next = 22;\n              return fetch(\"https://ipfs.io/ipfs/\".concat(obj.dixel.URI)).then(\n              /*#__PURE__*/\n              function () {\n                var _ref2 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee(response) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return response.json();\n\n                        case 2:\n                          return _context.abrupt(\"return\", jsonPage = _context.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 22:\n              obj.imageURI = jsonPage.image;\n              obj.dixelTraits = jsonPage.attributes;\n              userDixels.push(obj);\n\n            case 25:\n              i++;\n              _context2.next = 10;\n              break;\n\n            case 28:\n              _this.setState({\n                userDixels: userDixels,\n                starmBalance: starmBalance\n              });\n\n            case 29:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.filter =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(value) {\n        var dixels, filteredDixels;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.fetchUserDixels();\n\n              case 2:\n                dixels = _this.state.userDixels;\n                filteredDixels = [];\n                if (Number(value) === 1) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.rarity) === 1;\n                });else if (Number(value) === 2) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.rarity) === 2;\n                });else if (Number(value) === 3) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.rarity) === 3;\n                });else if (Number(value) === 4) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.rarity) === 4;\n                });else if (Number(value) === 5) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.level) === 1;\n                });else if (Number(value) === 6) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.level) === 2;\n                });else if (Number(value) === 7) filteredDixels = dixels.filter(function (e) {\n                  return Number(e.dixel.level) === 3;\n                });else if (Number(value) === 8) filteredDixels = dixels.filter(function (e) {\n                  return Boolean(e.dixel.staked) === false;\n                });else if (Number(value) === 9) filteredDixels = dixels.filter(function (e) {\n                  return Boolean(e.dixel.staked) === true;\n                });else alert(\"command not recognized\");\n\n                _this.setState({\n                  userDixels: filteredDixels\n                });\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        value: event.target.value\n      });\n    };\n\n    _this.displayAttributes = function (attr) {\n      console.log(attr);\n      console.log(\"head: \", attr[0].value);\n      console.log(\"eyes: \", attr[1].value);\n      console.log(\"mouth: \", attr[2].value);\n    };\n\n    _this.handleMouseEnter = function (e) {\n      e.target.style.cursor = \"zoom-in\";\n    };\n\n    return _this;\n  }\n\n  _createClass(InventoryAndLevel, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"starm balance: \", this.state.starmBalance), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Inventory\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        value: this.state.value,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Select filter: \"), React.createElement(\"option\", {\n        value: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"common\"), React.createElement(\"option\", {\n        value: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"uncommon\"), React.createElement(\"option\", {\n        value: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"rare\"), React.createElement(\"option\", {\n        value: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"legendary\"), React.createElement(\"option\", {\n        value: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Level 1\"), React.createElement(\"option\", {\n        value: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"level 2\"), React.createElement(\"option\", {\n        value: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"level 3\"), React.createElement(\"option\", {\n        value: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"collectors\"), React.createElement(\"option\", {\n        value: 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"staked\"), React.createElement(\"option\", {\n        value: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"not staked\")), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.filter(_this2.state.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Filter\")), React.createElement(\"div\", {\n        className: \"card-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.userDixels.map(function (obj, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \"card\",\n          onClick: function onClick() {\n            return _this2.displayAttributes(obj.dixelTraits);\n          },\n          onMouseEnter: _this2.handleMouseEnter,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: obj.imageURI,\n          className: \"image\",\n          alt: \"dixel.png\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"rarity : \", obj.dixel.rarity), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"level: \", obj.dixel.level), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"staked: \", obj.dixel.staked.toString()));\n      })));\n    }\n  }]);\n\n  return InventoryAndLevel;\n}(React.Component);\n\nexport { InventoryAndLevel as default };","map":{"version":3,"sources":["/home/torof/blockchain-developer-bootcamp-final-project/client/src/components/pages/Inventory.jsx"],"names":["React","InventoryAndLevel","state","userDixels","starmBalance","value","show","componentDidMount","setState","fetchUserDixels","props","getterFacet","dixelFacet","lotteryFacet","accounts","methods","getDixels","call","dixels","length","balanceOfStarm","i","ownerOf","obj","jsonPage","dixel","id","fetch","URI","then","response","json","imageURI","image","dixelTraits","attributes","push","filter","filteredDixels","Number","e","rarity","level","Boolean","staked","alert","handleChange","event","target","displayAttributes","attr","console","log","handleMouseEnter","style","cursor","map","toString","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport \"./styles/Pages.css\"\n\nexport default class InventoryAndLevel extends React.Component {\n        state = {\n            userDixels: [],\n            starmBalance: 0,\n            value: 0,\n            show: false\n        }\n\n        componentDidMount = () => {\n            this.setState(this.fetchUserDixels())\n        }\n\n        fetchUserDixels = async () => {\n            const {\n                getterFacet,\n                dixelFacet,\n                lotteryFacet,\n                accounts\n            } = this.props;\n\n            let dixels = await getterFacet.methods.getDixels().call();\n            let length = dixels.length - 1;\n            let starmBalance = await lotteryFacet.methods.balanceOfStarm(accounts[0]).call()\n            let userDixels = [];\n\n            for (let i = 0; i <= length; i++) {\n                if ((await dixelFacet.methods.ownerOf(i).call()) === accounts[0]) {\n                    let obj = {}\n                    let jsonPage\n                    obj.dixel = dixels[i]\n                    obj.id = i\n                    await fetch(`https://ipfs.io/ipfs/${obj.dixel.URI}`)\n                    .then(async response => jsonPage = await response.json())\n                    obj.imageURI = jsonPage.image\n                    obj.dixelTraits = jsonPage.attributes\n                    userDixels.push(obj);\n                }\n            }\n            this.setState({\n                userDixels: userDixels,\n                starmBalance: starmBalance\n            });\n        };\n\n        filter = async (value) => {\n            await this.fetchUserDixels()\n            let dixels = this.state.userDixels\n            let filteredDixels = []\n\n            if(Number(value) === 1) filteredDixels = dixels.filter(e => Number(e.dixel.rarity) === 1)\n            else if(Number(value) === 2) filteredDixels = dixels.filter(e => Number(e.dixel.rarity) === 2)\n            else if(Number(value) === 3) filteredDixels = dixels.filter(e => Number(e.dixel.rarity) === 3)\n            else if(Number(value) === 4) filteredDixels = dixels.filter(e => Number(e.dixel.rarity) === 4)\n            else if(Number(value) === 5) filteredDixels = dixels.filter(e => Number(e.dixel.level) === 1)\n            else if(Number(value) === 6) filteredDixels = dixels.filter(e => Number(e.dixel.level) === 2)\n            else if(Number(value) === 7) filteredDixels = dixels.filter(e => Number(e.dixel.level) === 3)\n            else if(Number(value) === 8) filteredDixels = dixels.filter(e => Boolean(e.dixel.staked) === false)\n            else if(Number(value) === 9) filteredDixels = dixels.filter(e => Boolean(e.dixel.staked) === true)\n            else alert(\"command not recognized\")\n            this.setState({\n                userDixels: filteredDixels\n            })\n        }\n\n        handleChange = (event) => {\n            this.setState({\n                value: event.target.value\n            });\n        }\n\n        displayAttributes = (attr) => {\n            console.log(attr)\n            console.log(\"head: \", attr[0].value)\n            console.log(\"eyes: \", attr[1].value)\n            console.log(\"mouth: \", attr[2].value)\n            \n        }\n\n        handleMouseEnter = (e) => {\n            e.target.style.cursor = \"zoom-in\" \n        }\n\n    render() {\n        return (\n            <div>\n                <p>starm balance: {this.state.starmBalance}</p>\n                <p>Inventory</p>\n                \n                <label>\n                            <select value={this.state.value} onChange={this.handleChange}>\n                            <option value={0}>Select filter: </option> \n                            <option value={1}>common</option>\n                            <option value={2}>uncommon</option>\n                            <option value={3}>rare</option>\n                            <option value={4}>legendary</option>\n                            <option value={5}>Level 1</option>\n                            <option value={6}>level 2</option>\n                            <option value={7}>level 3</option>\n                            <option value={8}>collectors</option>\n                            <option value={9}>staked</option>\n                            <option value={10}>not staked</option>\n                        </select>\n                        <button onClick={() => this.filter(this.state.value)}>Filter</button>\n                        </label> \n                        <div className=\"card-list\">\n                        {this.state.userDixels.map((obj, i) => \n                    <div key={i} \n                    className=\"card\" \n                    onClick={() => this.displayAttributes(obj.dixelTraits)}\n                    onMouseEnter={this.handleMouseEnter}>\n                    <img src={obj.imageURI} className=\"image\" alt=\"dixel.png\" />\n                    <p>rarity : {obj.dixel.rarity}</p>\n                    <p>level: {obj.dixel.level}</p>\n                    <p>staked: {(obj.dixel.staked).toString()}</p>\n                </div>)}\n                        </div>\n                \n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}